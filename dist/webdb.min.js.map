{"version":3,"file":"webdb.min.js","sources":["webdb.umd.js"],"names":["u","m","d","define","amd","a0","exports","module","require","this","MemoryStorage","WebDB","name","options","applyDefinition","def","definitions","DEFAULT_TABLE_DEF","key","tables","synching","DBS","db","Object","defineProperty","value","enumerable","get","Error","table","Table","configurable","writable","window","console","warn","eachArg","args","obj","fn","item","results","i","push","apply","call","equals","one","other","comparator","valueOf","indexOf","list","element","matches","items","criteria","Array","prototype","concat","length","hasOwnProperty","isArray","splice","columns","id","type","Number","version","primaryKey","foreignKeys","uniqueKeys","constraints","indexes","entityType","created","updated","deleted","stale","future","failed","failure","arguments","idx","backup","persistent","createdIdx","removed","definition","undefined","toJSON","fromJSON"],"mappings":"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"}